(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},a={app:0},n=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0239":function(t,e,s){"use strict";var r=s("3f48"),a=s.n(r);a.a},2015:function(t,e,s){},"360d":function(t,e,s){},"3f48":function(t,e,s){},"41f2":function(t,e,s){},"52e3":function(t,e,s){"use strict";var r=s("7308"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.getLimit?s("Table"):s("ChoiseLimit")],1)},n=[],i=s("5530"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h2",[t._v("Выберите объем данных")]),s("button",{staticClass:"btn btn-large",on:{click:function(e){return t.setLimit(32)}}},[t._v("Маленький")]),s("button",{staticClass:"btn btn-large",on:{click:function(e){return t.setLimit(1e3)}}},[t._v("Большой")])])},c=[],l=s("2f62"),u={methods:Object(i["a"])({},Object(l["d"])(["setLimit"]))},d=u,f=(s("ac59"),s("2877")),p=Object(f["a"])(d,o,c,!1,null,"396611dc",null),m=p.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h2",{staticClass:"container_title"},[t._v("Таблица данных")]),s("div",{staticClass:"controls"},[s("button",{staticClass:"btn",on:{click:t.toggleForm}},[t._v("Добавить")]),s("Pagination"),s("UserFilter",{on:{filter:t.filter}})],1),s("table",[s("thead",[s("tr",t._l(t.header,(function(e){return s("th",{key:e,staticClass:"col",class:{sorted:t.sortCol.col==e,"sorted--desc":!t.sortCol.asc&&t.sortCol.col==e},attrs:{"data-col":e},on:{click:t.sort}},[t._v(t._s(e))])})),0)]),t.loaded?s("tbody",{attrs:{id:"tablebody"}},t._l(t.users,(function(e){return s("TableRow",{key:e.phone,attrs:{user:e},on:{rowSelected:t.rowSelected}})})),1):s("tbody",{attrs:{id:"tableload"}},[s("Preloader")],1)]),t.selectedUser?s("RowInfo",{attrs:{user:t.selectedUser}}):t._e(),t.formOpened?s("AddRow",{on:{close:t.toggleForm}}):t._e()],1)},g=[],b=(s("4160"),s("159b"),s("96cf"),s("1da1")),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"row",on:{click:t.selectRow}},[s("td",{staticClass:"row_cell"},[t._v(t._s(t.user.id))]),s("td",{staticClass:"row_cell"},[t._v(t._s(t.user.firstName))]),s("td",{staticClass:"row_cell"},[t._v(t._s(t.user.lastName))]),s("td",{staticClass:"row_cell"},[t._v(t._s(t.user.email))]),s("td",{staticClass:"row_cell"},[t._v(t._s(t.user.phone))])])},_=[],w={props:{user:{type:Object,required:!0}},methods:{selectRow:function(t){t.target.parentNode.classList.contains("row--active")?(this.$emit("rowSelected",null),t.target.parentNode.classList.remove("row--active")):(this.$emit("rowSelected",this.user),t.target.parentNode.classList.add("row--active"))}}},C=w,x=(s("52e3"),Object(f["a"])(C,h,_,!1,null,null,null)),P=x.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"infolist"},[s("li",{staticClass:"infolist_item"},[t._v("Выбран пользователь "),s("b",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))])]),s("li",{staticClass:"infolist_item"},[t._v("Описание:"),s("textarea",{attrs:{readonly:""}},[t._v(t._s(t.user.description))])]),s("li",{staticClass:"infolist_item"},[t._v("Адрес проживания: "),s("b",[t._v(t._s(t.user.address.streetAddress||"-"))])]),s("li",{staticClass:"infolist_item"},[t._v("Город: "),s("b",[t._v(t._s(t.user.address.city||"-"))])]),s("li",{staticClass:"infolist_item"},[t._v("Провинция/штат: "),s("b",[t._v(t._s(t.user.address.state||"-"))])]),s("li",{staticClass:"infolist_item"},[t._v("Индекс: "),s("b",[t._v(t._s(t.user.address.zip||"-"))])])])},j=[],y={props:{user:{type:Object}}},N=y,U=(s("98ad"),Object(f["a"])(N,O,j,!1,null,null,null)),R=U.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"window"},[s("div",{staticClass:"window_bg",on:{click:t.close}}),s("div",{staticClass:"window_content"},[s("form",{staticClass:"addform",on:{submit:function(e){return e.preventDefault(),t.addRow(e)}}},[s("div",{staticClass:"addform_wrap"},[s("label",{attrs:{for:"id"}},[t._v("id: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.id,expression:"user.id"}],staticClass:"input",attrs:{type:"text",id:"id"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value)}}})]),s("div",{staticClass:"addform_wrap"},[s("label",{attrs:{for:"firstName"}},[t._v("firstName: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"input",attrs:{type:"text",id:"firstName"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}})]),s("div",{staticClass:"addform_wrap"},[s("label",{attrs:{for:"lastName"}},[t._v("lastName: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"input",attrs:{type:"text",id:"lastName"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}})]),s("div",{staticClass:"addform_wrap"},[s("label",{attrs:{for:"phone"}},[t._v("phone: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"input",attrs:{type:"text",id:"phone"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),s("div",{staticClass:"addform_wrap"},[s("label",{attrs:{for:"email"}},[t._v("email: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("button",{staticClass:"btn addform_submit",class:{disabled:!t.validForm()},attrs:{type:"submit"}},[t._v("Добавить в таблицу")])])])])},k=[],L={data:function(){return{user:{}}},methods:Object(i["a"])(Object(i["a"])({},Object(l["d"])(["pushUser","updatePagination"])),{},{validForm:function(){return!!(this.user.id&&this.user.firstName&&this.user.lastName&&this.user.phone&&this.user.email)},addRow:function(t){this.validForm()&&(this.user.address={},this.pushUser(this.user),this.close())},close:function(){this.$emit("close"),this.updatePagination()}})},S=L,T=(s("7e4c"),Object(f["a"])(S,$,k,!1,null,"2893d7d0",null)),E=T.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"filter",on:{submit:function(e){return e.preventDefault(),t.$emit("filter",t.filterText)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"input-field",attrs:{placeholder:"Поиск",type:"text"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Найти")])])},D=[],A={data:function(){return{filterText:""}}},B=A,M=(s("0239"),Object(f["a"])(B,F,D,!1,null,"66a4a1a4",null)),I=M.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pagination"},[s("div",{staticClass:"pagination_total"},[t._v("total: "+t._s(t.getUsersAmount))]),s("div",{staticClass:"pagination_btn",class:{hidden:t.getPagination.currentPage<=1},on:{click:function(e){return t.prevPage()}}},[t._v("←")]),s("div",{staticClass:"pagination_pages"},[t._v(t._s(t.getPagination.currentPage)+" / "+t._s(t.getPagination.pages))]),s("div",{staticClass:"pagination_btn",class:{hidden:t.getPagination.currentPage>=t.getPagination.pages},on:{click:function(e){return t.nextPage()}}},[t._v("→")])])},q=[],z={computed:Object(i["a"])({},Object(l["c"])(["getPagination","getUsersAmount"])),methods:Object(i["a"])({},Object(l["d"])(["prevPage","nextPage"]))},G=z,H=(s("7e60"),Object(f["a"])(G,J,q,!1,null,null,null)),K=H.exports,Q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preloader-wrapper big active"},[s("div",{staticClass:"spinner-layer spinner-cyan-only"},[s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])])])}],W={},X=Object(f["a"])(W,Q,V,!1,null,null,null),Y=X.exports,Z={data:function(){return{header:["id","firstName","lastName","email","phone"],selectedUser:null,users:[],formOpened:!1,loaded:!1,sortCol:{col:"",asc:!1}}},watch:{getUsers:function(t){var e=this;t.then((function(t){e.users=t,e.loaded=!0}))}},components:{TableRow:P,RowInfo:R,AddRow:E,UserFilter:I,Pagination:K,Preloader:Y},computed:Object(i["a"])({},Object(l["c"])(["getUsers"])),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(l["b"])(["fetchUsers","sortUsers"])),Object(l["d"])(["filterUsers","prevPage","nextPage","updatePagination"])),{},{filter:function(t){this.loaded=!1,this.rowSelected(null),this.filterUsers(t),this.updatePagination()},sort:function(t){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.sortCol.col=t.target.dataset.col,e.sortCol.asc=!e.sortCol.asc,e.rowSelected(null),s.next=5,e.sortUsers({field:e.sortCol.col,asc:e.sortCol.asc});case 5:case"end":return s.stop()}}),s)})))()},toggleForm:function(){this.formOpened=!this.formOpened},rowSelected:function(t){tablebody.children.forEach((function(t){t.classList.remove("row--active")})),this.selectedUser=t}}),mounted:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchUsers();case 2:case"end":return e.stop()}}),e)})))()}},tt=Z,et=(s("df3b"),Object(f["a"])(tt,v,g,!1,null,null,null)),st=et.exports,rt={name:"App",components:{ChoiseLimit:m,Table:st},computed:Object(i["a"])({},Object(l["c"])(["getLimit"]))},at=rt,nt=(s("cf25"),Object(f["a"])(at,a,n,!1,null,null,null)),it=nt.exports,ot=(s("4de4"),s("caad"),s("d3b7"),s("25f0"),s("2532"),{state:{users:[],filteredUsers:[],limit:0,pagination:{pages:0,pageRows:50,currentPage:0}},mutations:{updateUsers:function(t,e){t.users=e},updateFilteredUsers:function(t,e){t.filteredUsers=e},pushUser:function(t,e){t.users.push(e)},setLimit:function(t,e){t.limit=e<0?0:e},filterUsers:function(t,e){t.filteredUsers=t.users.filter((function(t){return t.id.toString().includes(e)||t.firstName.toLowerCase().includes(e)||t.lastName.toLowerCase().includes(e)||t.phone.includes(e)||t.email.toLowerCase().includes(e)}))},updatePagination:function(t){t.pagination.pages=Math.ceil((t.filteredUsers.length||1)/t.pagination.pageRows),t.pagination.currentPage=1},nextPage:function(t){t.pagination.currentPage>=t.pagination.pages?t.pagination.currentPage=t.pagination.pages:t.pagination.currentPage++},prevPage:function(t){t.pagination.currentPage<=1?t.pagination.currentPage=1:t.pagination.currentPage--}},actions:{fetchUsers:function(t){return Object(b["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r=t.state,e.next=3,fetch("http://www.filltext.com/?rows=".concat(r.limit,"&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D")).then((function(t){return t.json()})).then((function(t){s("updateUsers",t),s("updateFilteredUsers",t),s("updatePagination")}));case 3:case"end":return e.stop()}}),e)})))()},sortUsers:function(t,e){return Object(b["a"])(regeneratorRuntime.mark((function s(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=t.state,n=e.field,i=e.asc,s.next=4,a.filteredUsers.sort((function(t,e){return i?t[n]>e[n]?-1:1:t[n]>e[n]?1:-1}));case 4:o=s.sent,r("updateFilteredUsers",o);case 6:case"end":return s.stop()}}),s)})))()}},getters:{getUsers:function(t){return new Promise((function(e,s){var r=t.pagination.currentPage*t.pagination.pageRows;return e(t.filteredUsers.reverse().filter((function(e,s){return s<r&&s>=r-t.pagination.pageRows})))}))},getUsersAmount:function(t){return t.filteredUsers.length},getLimit:function(t){return t.limit},getPagination:function(t){return t.pagination}}});r["a"].use(l["a"]);var ct=new l["a"].Store({modules:{users:ot}});s("dc53");r["a"].config.productionTip=!1,new r["a"]({store:ct,render:function(t){return t(it)}}).$mount("#app")},7308:function(t,e,s){},"7e4c":function(t,e,s){"use strict";var r=s("be77"),a=s.n(r);a.a},"7e60":function(t,e,s){"use strict";var r=s("360d"),a=s.n(r);a.a},"98ad":function(t,e,s){"use strict";var r=s("2015"),a=s.n(r);a.a},ac59:function(t,e,s){"use strict";var r=s("b35b"),a=s.n(r);a.a},b35b:function(t,e,s){},be77:function(t,e,s){},cf25:function(t,e,s){"use strict";var r=s("fea6"),a=s.n(r);a.a},df3b:function(t,e,s){"use strict";var r=s("41f2"),a=s.n(r);a.a},fea6:function(t,e,s){}});
//# sourceMappingURL=app.f9cf8cef.js.map